{
  "query": "-- Verificar estoque do produto 401460P\nSELECT \n  'ESTOQUE' as tipo,\n  i.tenantId,\n  t.name as tenant_name,\n  p.sku,\n  SUM(i.quantity - i.reservedQuantity) as disponivel\nFROM inventory i\nLEFT JOIN tenants t ON i.tenantId = t.id\nLEFT JOIN products p ON i.productId = p.id\nWHERE p.sku = '401460P'\nGROUP BY i.tenantId, t.name, p.sku\n\nUNION ALL\n\n-- Verificar clientes cadastrados\nSELECT \n  'CLIENTE' as tipo,\n  t.id as tenantId,\n  t.name as tenant_name,\n  '-' as sku,\n  0 as disponivel\nFROM tenants t\nORDER BY tipo, tenantId;",
  "command": "mysql --batch --raw --column-names --default-character-set=utf8mb4 --host gateway02.us-east-1.prod.aws.tidbcloud.com --port 4000 --user 44TTARZqZm4zxSK.6207e12656da --database YB8JBMXFWs4i38ecUvjPnS --execute -- Verificar estoque do produto 401460P\nSELECT \n  'ESTOQUE' as tipo,\n  i.tenantId,\n  t.name as tenant_name,\n  p.sku,\n  SUM(i.quantity - i.reservedQuantity) as disponivel\nFROM inventory i\nLEFT JOIN tenants t ON i.tenantId = t.id\nLEFT JOIN products p ON i.productId = p.id\nWHERE p.sku = '401460P'\nGROUP BY i.tenantId, t.name, p.sku\n\nUNION ALL\n\n-- Verificar clientes cadastrados\nSELECT \n  'CLIENTE' as tipo,\n  t.id as tenantId,\n  t.name as tenant_name,\n  '-' as sku,\n  0 as disponivel\nFROM tenants t\nORDER BY tipo, tenantId;",
  "rows": [
    {
      "tipo": "CLIENTE",
      "tenantId": "1",
      "tenant_name": "Laboratórios B.Braun S/A",
      "sku": "-",
      "disponivel": "0"
    },
    {
      "tipo": "CLIENTE",
      "tenantId": "60006",
      "tenant_name": "Hapvida",
      "sku": "-",
      "disponivel": "0"
    },
    {
      "tipo": "ESTOQUE",
      "tenantId": "NULL",
      "tenant_name": "NULL",
      "sku": "401460P",
      "disponivel": "1440"
    }
  ],
  "messages": [],
  "stdout": "tipo\ttenantId\ttenant_name\tsku\tdisponivel\nCLIENTE\t1\tLaboratórios B.Braun S/A\t-\t0\nCLIENTE\t60006\tHapvida\t-\t0\nESTOQUE\tNULL\tNULL\t401460P\t1440\n",
  "stderr": "",
  "execution_time_ms": 52
}