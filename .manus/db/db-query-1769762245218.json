{
  "query": "\n-- Buscar pedidos ativos que solicitam o produto do H01-01-01\nSELECT \n  po.id as pedidoId,\n  po.customerOrderNumber,\n  po.status as statusPedido,\n  po.shippingStatus,\n  poi.requestedQuantity,\n  poi.unit,\n  p.unitsPerBox,\n  CASE \n    WHEN poi.unit = 'box' THEN poi.requestedQuantity * p.unitsPerBox\n    ELSE poi.requestedQuantity\n  END as totalUnidades,\n  po.createdAt,\n  po.updatedAt\nFROM pickingOrders po\nINNER JOIN pickingOrderItems poi ON po.id = poi.pickingOrderId\nINNER JOIN products p ON poi.productId = p.id\nWHERE poi.productId = (\n    SELECT i.productId \n    FROM inventory i \n    INNER JOIN warehouseLocations wl ON i.locationId = wl.id \n    WHERE wl.code = 'H01-01-01' \n    AND i.reservedQuantity > 0\n    LIMIT 1\n  )\n  AND poi.batch = (\n    SELECT i.batch \n    FROM inventory i \n    INNER JOIN warehouseLocations wl ON i.locationId = wl.id \n    WHERE wl.code = 'H01-01-01' \n    AND i.reservedQuantity > 0\n    LIMIT 1\n  )\n  AND po.status IN ('pending', 'in_progress', 'separated', 'in_wave', 'picked')\nORDER BY po.createdAt DESC;\n",
  "command": "mysql --batch --raw --column-names --default-character-set=utf8mb4 --host gateway02.us-east-1.prod.aws.tidbcloud.com --port 4000 --user 44TTARZqZm4zxSK.6207e12656da --database YB8JBMXFWs4i38ecUvjPnS --execute \n-- Buscar pedidos ativos que solicitam o produto do H01-01-01\nSELECT \n  po.id as pedidoId,\n  po.customerOrderNumber,\n  po.status as statusPedido,\n  po.shippingStatus,\n  poi.requestedQuantity,\n  poi.unit,\n  p.unitsPerBox,\n  CASE \n    WHEN poi.unit = 'box' THEN poi.requestedQuantity * p.unitsPerBox\n    ELSE poi.requestedQuantity\n  END as totalUnidades,\n  po.createdAt,\n  po.updatedAt\nFROM pickingOrders po\nINNER JOIN pickingOrderItems poi ON po.id = poi.pickingOrderId\nINNER JOIN products p ON poi.productId = p.id\nWHERE poi.productId = (\n    SELECT i.productId \n    FROM inventory i \n    INNER JOIN warehouseLocations wl ON i.locationId = wl.id \n    WHERE wl.code = 'H01-01-01' \n    AND i.reservedQuantity > 0\n    LIMIT 1\n  )\n  AND poi.batch = (\n    SELECT i.batch \n    FROM inventory i \n    INNER JOIN warehouseLocations wl ON i.locationId = wl.id \n    WHERE wl.code = 'H01-01-01' \n    AND i.reservedQuantity > 0\n    LIMIT 1\n  )\n  AND po.status IN ('pending', 'in_progress', 'separated', 'in_wave', 'picked')\nORDER BY po.createdAt DESC;\n",
  "rows": [],
  "messages": [],
  "stdout": "",
  "stderr": "",
  "execution_time_ms": 353
}